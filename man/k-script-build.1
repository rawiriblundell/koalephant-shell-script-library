.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.47.4.
.TH K-SCRIPT-BUILD-STATIC "1" "May 2020" "koalephant-shell-script-library 2.8.1" "User Commands"
.SH NAME
k-script-build-static,  - Process shell source (.) statements into absolute references or inline the script
.SH SYNOPSIS
.B k-script-build-static
[\fI\,OPTION\/\fR]...
.SH DESCRIPTION
Process shell source (.) statements into absolute references or inline the script
.PP
Reads the input file specified by \fB\-f\fR, \fB\-\-file\fR, or STDIN line\-by\-line, looking for source (.) statements matching the prefixes specified by either the \fB\-i\fR, \fB\-\-inline\fR, \fB\-\-static\fR or \fB\-l\fR, \fB\-\-link\fR, \fB\-\-dynamic\fR options.
.PP
Source lines containing the string `#K_SCRIPT_BUILD_IGNORE` (typically an end\-of\-line comment) will be ignored by the build process, and output almost as\-is, with `#K_SCRIPT_BUILD_IGNORE` stripped from the end of the line.
.PP
Output is written to the output file specified by \fB\-o\fR, \fB\-\-output\fR or stdout, and depends on the mode of operation:
.PP
build (default):
.IP
Non\-matching lines are written out unmodified.
.IP
For source statements matching prefixes specified with the \fB\-l\fR, \fB\-\-link\fR option, a new source is written out with the replacement path substituted for the path prefix.
.IP
For source statements matching prefixes specified with the \fB\-i\fR, \fB\-\-inline\fR option, the result of running the referenced file through the same build process, and prefixing each line with the same whitespace indent as the original source statement is writen out.
.PP
report (\fB\-r\fR, \fB\-\-report\fR, \fB\-R\fR, \fB\-\-report\-replaced\fR):
.IP
The target pathname of source statements (i.e. the path/filename after the source (.) statment) are written out.
If \fB\-R\fR or \fB\-\-replace\-replaced\fR is specified, prefix replacements are applied before each path is written out.
.PP
generate dependencies (\fB\-M\fR, \fB\-\-make\-deps\fR):
.IP
A Make compatible rule is written out, listing the input file as the target and any directly sourced files as it's dependencies.
The output of this mode is intended to be included in a Makefile, similar to the CC `\-M` option. This project's own Makefile shows an example of how this can be used.
.SH OPTIONS
.TP
\fB\-D\fR, \fB\-\-debug\fR
Show debug output
.TP
\fB\-d\fR, \fB\-\-define\fR var=val
Define simple replacements to be performed while processing, e.g. LIB_PATH=/foo
.TP
\fB\-\-dynamic\fR
Alias for \fB\-\-link\fR
.TP
\fB\-x\fR, \fB\-\-executable\fR
Mark the resulting file (if not stdout) executable
.TP
\fB\-\-exec\fR
Alias for \fB\-\-executable\fR
.TP
\fB\-f\fR, \fB\-\-file\fR file
The source to read. If not specified, defaults to stdin
.TP
\fB\-h\fR, \fB\-\-help\fR
Show this help
.TP
\fB\-i\fR, \fB\-\-inline\fR prefix
Dir or file path prefix of sources to explicitly inline. Can be specified multiple times
.TP
\fB\-l\fR, \fB\-\-link\fR prefix=replacement
Dir or file path prefix to explicitly link to using the replacement (usually absolute) path. Can be specified multiple times.
.TP
\fB\-M\fR, \fB\-\-make\-deps\fR
Process input and output a rule suitable for Make, listing the dependencies
.TP
\fB\-o\fR, \fB\-\-output\fR file
The file to write to. If not specified, defaults to stdout
.TP
\fB\-q\fR, \fB\-\-quiet\fR
Suppress all output except errors
.TP
\fB\-r\fR, \fB\-\-report\fR
Process input and report all sourced files.
.TP
\fB\-R\fR, \fB\-\-report\-replaced\fR
Report the sourced files after applying prefix replacements. Implies \fB\-\-report\fR.
.TP
\fB\-\-static\fR
Alias for \fB\-\-inline\fR
.TP
\fB\-v\fR, \fB\-\-version\fR
Show the version
.TP
\fB\-V\fR, \fB\-\-verbose\fR
Show verbose output
.TP
\fB\-c\fR, \fB\-\-cd\fR
Removed option. No longer necessary, has no effect.
.SH COPYRIGHT
Copyright \(co 2020, Koalephant Co., Ltd
